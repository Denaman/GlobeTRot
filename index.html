<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <title>GlobeTrot</title>
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
    <!--The container div that holds the search bar-->
    <div class="container mt-4">
        <!--The resizable and centered search bar box-->
        <div class="row d-flex justify-content-center">
            <!--Applying a column format display-->
            <div class="col-md-9">
                <!--Applying a 4 part card format display-->
                <div class="card p-4 mt-3">
                    <!--Heading before the search bar-->
                    <h3 class="heading mt-5 text-center">Find The Best Holiday Destination For Your Needs!</h3>
                    <!--Housing container for the search bar-->
                    <div class="d-flex justify-content-center px-5">
                        <!--A function for the input to call that updates the map. Adding an id attribute to reference the document-->
                        <div class="search"><input type="text" class="search-input" placeholder="Search...." name="search" id="test" onkeydown="search()"><a href="#" class="search-icon"><i class="fas fa-search-location fa-3x"></i></a></div>

                    </div>

                </div>

            </div>

        </div>

    </div>

    <hr>

    <div class="container">
        <!--Map heading-->
        <h3 class="text-center">Map</h3>
        <!--Resizable div container-->
        <div class="container-fluid">
            <!--Making the map responsive-->
            <div class="map-responsive">
                <!--API map with a changed src and an ID attribute to query the iframe element-->
                <iframe id="map" src="https://www.google.com/maps/embed/v1/place?key=AIzaSyA0s1a7phLN0iaD6-UE7m4qP-z21pH0eSc&q=new+york" width="100%" height="600" style="border:0" frameborder="0" allowfullscreen></iframe>

            </div>

        </div>

    </div>



    <!--JavaScript bundle with popper-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>
    <!--JavaScript after bootstrap to load in first before the code-->
    <script>
        //Function search() that will be used in the input element
        function search(){
            //An if statement that checks what key we are using (ascii code for enter key 13)
            if(event.keyCode == 13){
                //Query document with the getElementById attribute to target the input element, getting the value from the user
                let location = document.getElementById("test").value;
                console.log(location)
                //Query the document with the getElementById attribute to target the iframe element. Using the setAttribute method to change the src.
                //Added a zoom parameter in the API call for when a user search a location (&zoom=15).
                document.getElementById('map').setAttribute('src', `https://www.google.com/maps/embed/v1/place?key=AIzaSyA0s1a7phLN0iaD6-UE7m4qP-z21pH0eSc&zoom=15&q=${location}`)
            }
        }
    </script>

    <script src="js/index.js"></script>
</body>
</html>